<!Doctype <!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>跨浏览器的时间对象</title>
</head>
<body>
	<input id="btn1" type="button" value="click">
	<script type="text/javascript">
window.onload=function(){
	var EventUtil={
		//绑定事件
		addHandler:function(element,type,handler){
			if(element.addEventListener){//1.可以添加多个事件处理程序，2.这多个事件会按添加顺序执行3.这里添加的事件处理程序是在其依附的元素的作用域中运行
				element.addEventListener(type,handler,false);

			}
			else if(element.attachEvent){//1.可以添加多个事件处理程序，2.ie9+多个事件会按添加顺序执行，ie9以下这多个事件会按添加反序执行3.事件处理程序是在全局作用域中运行
				element.attachEvent("on"+type,handler);
			}
			else{
				element["on"+type]=handler;//html行内添加事件的
			}
		},
		//返回event对象的引用
		getEvent:function(event){
			return event?event:window.event; //event-w3c;window.event-ie
		},
		//返回时间的目标
		getTarget:function(event){
			return event.target||event.srcElement;  //event.target-w3c;event.srcElement-ie
		},
		//取消事件的默认行为
		preventDefault:function(event){
			if(event.preventDefault){//w3c
				event.preventDefault();
			}
			else{
				event.removeValue=false;//ie
			}
		},
		removeHandler:function(element,type,handler){
			if(element.removeEventListener){//w3c
				element.removeEventListener(type,handler,false);
			}
			else if(element.datachEvent){//ie
				element.datachEvent("on"+type,handler);
			}
			else{
				element["on"+type]=null;
			}
		},
		stopPropagation:function(event){
			if(event.stopPropagation){//w3c
				event.stopPropagation();
			}
			else{//ie
				event.cancelBubble=true;
			}
		}
	}
	var handler1=function(){
		alert("w3c");
	}
	var handler2=function(){
		alert("ie");
	}
	
		var oBtn=document.getElementById("btn1");		
	EventUtil.addHandler(oBtn,"click",handler1);
	EventUtil.addHandler(oBtn,"click",handler2);
	//EventUtil.removeHandler(oBtn,"click",handler1);
	//EventUtil.removeHandler(oBtn,"click",handler2);
}
</script>
</body>
</html>